# 📐 코드 스타일 및 네이밍 컨벤션

이 문서는 프로젝트의 코드 일관성을 유지하고 가독성을 높이기 위한 코드 스타일 및 네이밍 규칙을 정의합니다.

## 1. 📌 공통 원칙 (Common Principles)
### 1.1. 기본 원칙
- **가독성 우선**: 코드는 읽기 쉽고 이해하기 쉬워야 합니다.
- **일관성 유지**: 팀 전체가 동일한 스타일을 사용합니다.
- **의미 있는 네이밍**: 변수, 함수, 클래스명은 그 목적을 명확히 나타내야 합니다.

### 1.2. 공통 네이밍 규칙
- **영어 사용**: 모든 식별자는 영어로 작성합니다.
- **약어 금지**: 의미를 명확하게 전달하기 위해 축약어 사용을 지양합니다. (e.g., `user` 대신 `usr` 사용 금지)
- **Boolean 변수**: `is`, `has`, `can`, `should` 등의 접두사 사용합니다.

## 2. ☕ Back-end (Java & Spring)

- **포맷터**: **SonarLint**를 IDE에 설치하여 실시간으로 코드 품질을 분석하고, IntelliJ의 기본 포맷터를 사용합니다.

### 2.1. 네이밍 규칙 (Naming Conventions)

| 종류 | 규칙 | 예시 |
|------|--------|------|
| **패키지** | 소문자, 점(.) 구분 | `com.company.project.domain` |
| **클래스** | PascalCase | `UserService`, `OrderController` |
| **인터페이스** | PascalCase + Impl | `UserRepositoryImpl` |
| **메서드** | camelCase, `동사+명사` | `findById`, `createUser` |
| **변수** | camelCase, `명사` | `userId`, `orderCount` |
| **상수** | UPPER_SNAKE_CASE | `MAX_RETRY_COUNT`, `DEFAULT_SIZE` |
| **Enum** | PascalCase (클래스) + UPPER_SNAKE_CASE (값) | `OrderStatus.PENDING` |
| **API URI** | 소문자, 복수형, 케밥케이스 | `GET /users/{user-id}/orders` |

### 2.2. 클래스별 네이밍 규칙

| 이름 | 접미사 | 예시 |
|--------|--------|------|
| **Controller** | Controller | `UserController`, `OrderController` |
| **Service** | Service | `UserService`, `EmailService` |
| **Repository** | Repository | `UserRepository`, `OrderRepository` |
| **Entity** | 없음 | `User`, `Order`, `Product` |
| **DTO** | Dto | `UserCreateDto`, `OrderListDto` |
| **Exception** | Exception | `BusinessException`, `ValidationException` |
| **Config** | Config | `DatabaseConfig`, `SecurityConfig` |
| **Util** | Utils | `DateUtils`, `StringUtils` |

### 2.3. 메서드 네이밍 패턴

| 용도 | 패턴 | 예시 |
|------|------|------|
| **조회 (단건)** | `get`, `find` | `getUserById`, `findByEmail` |
| **조회 (목록)** | `getAll`, `findAll` | `getAllUsers`, `findActiveUsers` |
| **생성** | `create`, `save` | `createUser`, `saveOrder` |
| **수정** | `update`, `modify` | `updateUser`, `modifyStatus` |
| **삭제** | `delete`, `remove` | `deleteUser`, `removeExpired` |
| **검증** | `validate`, `check` | `validateEmail`, `checkPermission` |
| **존재 확인** | `exists`, `has` | `existsByEmail`, `hasPermission` |
| **상태 확인** | `is`, `can` | `isActive`, `canAccess` |

### 2.4. 코드 스타일

- **들여쓰기**: 4개의 스페이스(Space)를 사용합니다.
- **중괄호 (`{}`)**: 생략 가능한 경우(if, for)에도 항상 사용합니다.
- **`final` 키워드**: 변경되지 않는 변수나 파라미터에는 `final` 키워드를 적극적으로 사용합니다.
- **접근 제어자**: 항상 명시적으로 선언합니다. (e.g., `public`, `protected`, `private`)

```java
// ✅ 좋은 예
@Service
@RequiredArgsConstructor
public class DefaultUserService implements UserService {
    
    private final UserRepository userRepository;
    private final EmailService emailService;
    
    public User createUser(UserCreateDto createDto) {
        validateUserData(createDto);
        
        User newUser = User.builder()
                .name(createDto.getName())
                .email(createDto.getEmail())
                .build();
                
        User savedUser = userRepository.save(newUser);
        emailService.sendWelcomeEmail(savedUser);
        
        return savedUser;
    }
    
    private void validateUserData(UserCreateDto dto) {
        if (userRepository.existsByEmail(dto.getEmail())) {
            throw new DuplicateEmailException("이미 존재하는 이메일입니다.");
        }
    }
}
```
### 2.5. 패키지 구조

```
com.sage.bif/
├── user/                      # User 도메인
│   ├── controller/
│   │   └── UserController.java
│   ├── service/
│   │   ├── UserService.java
│   │   └── UserServiceImpl.java
│   ├── repository/
│   │   └── UserRepository.java
│   ├── entity/
│   │   └── User.java
│   ├── dto/
│   │   ├── request/
│   │   │   └── UserCreateRequest.java
│   │   └── response/
│   │       └── UserResponse.java
│   ├── event/                 # User 도메인 Spring Event
│   │   ├── model/             # ★ User 이벤트 모델 (데이터 객체)
│   │   │   └── UserRegisteredEvent.java
│   │   └── listener/          # User 이벤트 리스너
│   │       └── UserRegisteredListener.java
│   └── exception/             # User 관련 예외
│       └── UserNotFoundException.java
│
├── todo/                      # Todo 도메인
│   ├── controller/
│   ├── service/
│   │   ├── TodoService.java
│   │   └── TodoServiceImpl.java
│   ├── repository/
│   ├── entity/
│   ├── dto/
│   │   ├── request/
│   │   └── response/
│   ├── event/                 # Todo 도메인 Spring Event
│   │   ├── model/             # ★ Todo 이벤트 모델
│   │   │   └── TodoCompletedEvent.java
│   │   └── listener/          # Todo 이벤트 리스너
│   │       └── TodoCompletedListener.java
│   └── exception/
│
├── diary/                     # Diary 도메인
│   ├── controller/
│   ├── service/
│   │   ├── DiaryService.java
│   │   └── DiaryServiceImpl.java
│   ├── repository/
│   ├── entity/
│   ├── dto/
│   │   ├── request/
│   │   └── response/
│   ├── event/                 # Diary 도메인 Spring Event
│   │   ├── model/             # ★ Diary 이벤트 모델
│   │   │   └── DiaryFeedbackRequestedEvent.java
│   │   └── listener/          # Diary 이벤트 리스너
│   │       └── DiaryFeedbackListener.java
│   └── exception/
│
├── simulation/                # Simulation 도메인
│   ├── controller/
│   ├── service/
│   │   ├── SimulationService.java
│   │   └── SimulationServiceImpl.java
│   ├── repository/
│   ├── entity/
│   ├── dto/
│   │   ├── request/
│   │   └── response/
│   ├── event/                 # Simulation 도메인 Spring Event
│   │   ├── model/             # ★ Simulation 이벤트 모델
│   │   │   └── SimulationStepCompletedEvent.java
│   │   └── listener/          # Simulation 이벤트 리스너
│   │       └── SimulationStepCompletedListener.java
│   └── exception/
│
├── stats/                     # Stats 도메인
│   ├── controller/
│   ├── service/
│   │   ├── StatsService.java
│   │   └── StatsServiceImpl.java
│   ├── repository/
│   ├── entity/
│   ├── dto/
│   │   ├── request/
│   │   └── response/
│   ├── event/                 # Stats 도메인 Spring Event
│   │   ├── model/             # ★ Stats 이벤트 모델
│   │   │   └── StatsUpdatedEvent.java
│   │   └── listener/          # Stats 이벤트 리스너
│   │       └── StatsUpdatedListener.java
│   └── exception/
│
├── config/                   # 공통 설정 (Security, JPA, Swagger 등)
│   ├── SecurityConfig.java
│   ├── JpaConfig.java
│   └── SwaggerConfig.java
│
└── common/                   # 공통 모듈
    ├── exception/            # 전역 예외 처리
    │   ├── BaseException.java
    │   └── ErrorCode.java
    ├── event/                # 공통 이벤트
    │   ├── model/            # ★ 공통 이벤트 모델 (예: 모든 이벤트의 기반 클래스)
    │   │   └── BaseEvent.java
    │   └── listener/         # 공통 이벤트 리스너
    │       └── ApplicationEventListener.java
    ├── util/                 # 공통 유틸리티
    │   ├── DateUtils.java
    │   ├── JsonUtils.java
    │   └── ValidationUtils.java
    └── constants/            # 공통 상수
        ├── ApiConstants.java
        ├── ErrorMessages.java
        └── aiclient/         # AI 클라이언트 관련 상수/설정 (이동)
            └── AiClientConfig.java
```

## 3. 🌐 Front-end (JavaScript & React)

- **포맷터**: **Prettier**를 사용하여 코드 포맷을 강제하고, **ESLint**로 코드 품질을 관리합니다.

### 3.1. 네이밍 규칙 (Naming Conventions)

| 종류 | 규칙 | 예시 |
| --- | --- | --- |
| **컴포넌트** | PascalCase | `UserProfile`, `ProductList` |
| **파일명 (컴포넌트)** | PascalCase | `UserProfile.js`, `OrderList.js` |
| **파일명 (Hook/Util)** | camelCase | `useUserData.js`, `apiClient.js` |
| **폴더명** | camelCase | `components`, `hooks`, `utils` |
| **변수/함수** | camelCase | `userName`, `fetchUserData` |
| **상수** | UPPER_SNAKE_CASE | `API_BASE_URL`, `MAX_ITEMS` |
| **이벤트 핸들러** | handle + 동사 | `handleClick`, `handleSubmit` |
| **Props** | camelCase | `isLoading`, `onUserSelect` |
| **CSS 클래스** | kebab-case | `.user-card`, `.btn-primary` |
| **Hook** | `use` 접두사, camelCase | `useAuth` |


### 3.2. 코드 스타일

- **들여쓰기**: 2개의 스페이스(Space)를 사용합니다.
- **따옴표**: 큰따옴표(`"`) 사용을 원칙으로 합니다.
- **세미콜론 (`;`)**: 문장의 끝에 항상 사용합니다.
- **컴포넌트 선언**: `function` 키워드를 사용한 함수 선언 방식을 권장합니다. (`function MyComponent() {}`)
- **`export`**: `export default`는 파일 당 하나만 사용하며, 페이지 컴포넌트에 사용하는 것을 권장합니다. 그 외에는 `export`를 사용합니다.

```javascript
// ✅ 좋은 예
function UserCard({ user, onEdit }) {
  const [isEditing, setIsEditing] = React.useState(false);
  
  function handleEditClick() {
    setIsEditing(true);
    onEdit(user.id);
  }

  return (
    <div className="user-card">
      <h3>{user.name}</h3>
      <button onClick={handleEditClick}>
        Edit
      </button>
    </div>
  );
}

// 상수 정의
const API_ENDPOINTS = {
  USERS: "/api/users",
  ORDERS: "/api/orders",
};
```

### 3.3. 폴더 구조
```
src/
├── components/          # 재사용 컴포넌트
│   ├── common/          # 공통 컴포넌트 (예: Modal, Loader, Header, Footer)
│   └── ui/              # UI 컴포넌트 (예: Button, Input, Card, Tooltip)
├── pages/               # 페이지 컴포넌트 (예: LoginPage.jsx, DashboardPage.jsx, ProfilePage.jsx)
├── hooks/               # 커스텀 훅 (예: useAuth.js, useFetch.js, useForm.js)
├── services/            # API 서비스 (예: authService.js, userService.js, todoService.js)
├── utils/               # 유틸리티 함수 (예: formatDate.js, validateEmail.js, debounce.js)
├── constants/           # 상수 정의 (예: errorCodes.js, apiEndpoints.js, config.js)
└── styles/              # 스타일 파일 (예: colors.css, global.css, variables.scss)
```
